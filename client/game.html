<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NMB Game - Playable Prototype</title>
    <script src="https://cdn.socket.io/4.7.1/socket.io.min.js"></script>
    <link rel="stylesheet" href="game.css">
</head>
<body>
    <div class="game-container">
        <!-- Left Panel: Game Controls & Player Status -->
        <div class="left-panel">
            <!-- Connection Status -->
            <div class="panel">
                <h3>Connection</h3>
                <div id="connection-status" class="connection-status disconnected">
                    Disconnected
                </div>
            </div>
            
            <!-- Game Controls -->
            <div class="panel">
                <h3>Game Controls</h3>
                <div class="game-controls" id="game-controls">
                    <div class="input-group">
                        <label for="playerName">Player Name</label>
                        <input type="text" id="playerName" placeholder="Enter your name" value="Player1">
                    </div>
                    
                    <button onclick="createGame()" id="createGameBtn">Create New Game</button>
                    
                    <div class="input-group">
                        <label for="gameId">Game ID</label>
                        <input type="text" id="gameId" placeholder="Enter game ID to join">
                    </div>
                    
                    <button onclick="joinGame()" id="joinGameBtn">Join Game</button>
                    
                    <button onclick="startGame()" id="startGameBtn" style="display: none;">Start Game</button>
                </div>
                
                <!-- Game Lobby Status -->
                <div class="lobby-status" id="lobbyStatus" style="display: none;">
                    <div class="lobby-header">
                        <h4>Game Lobby</h4>
                        <div class="lobby-info">
                            <span id="lobby-game-id"></span>
                        </div>
                    </div>
                    <div class="player-count-status">
                        <span id="player-count-display">0/4 players</span>
                        <span id="lobby-status-text" class="status-waiting">Waiting for players...</span>
                    </div>
                    <div class="player-list">
                        <h5>Players:</h5>
                        <ul id="player-list" class="players-joined">
                            <!-- Players will be added dynamically -->
                        </ul>
                    </div>
                    <div class="lobby-requirements" id="lobby-requirements">
                        <p class="requirement-text">Need at least 2 players to start</p>
                    </div>
                </div>
            </div>
            
            <!-- Player Status -->
            <div class="panel player-status" id="player-status" style="display: none;">
                <div class="player-header">
                    <span id="player-name">Player Name</span>
                    <span id="turn-indicator" style="float: right;">⏳</span>
                </div>
                <div class="player-stats">
                    <div class="stat">
                        <span>Disorder:</span>
                        <span id="disorder-value">0</span>
                    </div>
                    <div class="stat">
                        <span>Floor:</span>
                        <span id="floor-value">2</span>
                    </div>
                    <div class="stat">
                        <span>Position:</span>
                        <span id="position-value">(0,0)</span>
                    </div>
                    <div class="stat">
                        <span>Movement:</span>
                        <span id="movement-value">0/0</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Center Panel: Game Board -->
        <div class="center-panel">
            <div class="panel" style="flex: 1;">
                <h3>Game Board</h3>
                <div class="board-controls">
                    <div class="floor-controls">
                        <button onclick="changeFloor(-1)" id="floorDownBtn" class="floor-btn">⬇️ Floor Down</button>
                        <div class="floor-indicator">
                            <span id="current-floor">Floor 2</span>
                        </div>
                        <button onclick="changeFloor(1)" id="floorUpBtn" class="floor-btn">⬆️ Floor Up</button>
                    </div>
                    
                    <div class="game-info">
                        <div class="info-badge">
                            <span class="info-label">Phase:</span>
                            <span id="game-phase" class="info-value">Waiting</span>
                        </div>
                        <div class="info-badge">
                            <span class="info-label">Round:</span>
                            <span id="game-round" class="info-value">0</span>
                        </div>
                    </div>
                </div>
                <div id="game-board" class="game-board">
                    <div class="board-message">
                        Create or join a game to see the board
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Right Panel: Actions & Game Info -->
        <div class="right-panel">
            <!-- Action Buttons -->
            <div class="panel">
                <h3>Actions</h3>
                <div id="action-buttons" class="action-buttons">
                    <p style="color: #888; text-align: center;">Join a game to see actions</p>
                </div>
            </div>
            
            <!-- Player Hand -->
            <div class="panel">
                <h3>Your Hand (<span id="hand-count">0</span>/7)</h3>
                <div id="player-hand" class="player-hand">
                    <p style="color: #888; text-align: center;">No cards</p>
                </div>
            </div>
            
            <!-- Game Log -->
            <div class="panel" style="flex: 1;">
                <h3>Game Log</h3>
                <div id="game-log" class="game-log">
                    <p style="color: #888;">Waiting for game events...</p>
                </div>
            </div>
        </div>
    </div>
    <script src="game.js"></script>
</body>
</html>